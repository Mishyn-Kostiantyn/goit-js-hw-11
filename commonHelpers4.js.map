{"version":3,"file":"commonHelpers4.js","sources":["../src/js/search-images.js"],"sourcesContent":["import iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\nimport SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\nconst ref = {\n    formForInputSearchingParametersForImages: document.querySelector('.input-form'),\n    containerForLoaderSign: document.querySelector('.loader-container'),\n    formForImagesGallery: document.querySelector('.gallery')\n};\nfunction deleteImageGalleryMarkup() {\n    ref.formForImagesGallery.innerHTML = '';\n};\nfunction getImageGallery(whatAreWeSearching) {\n    const BASE_URL = 'https://pixabay.com/api/';\n    const API_KEY = '?key=42121047-6dc093e186e55c34fb150394f';\n    const SEARCHING_THEME = `&q=${whatAreWeSearching}`;\n    const IMAGE_TYPE = '&image-type=photo';\n    const ORIENTATION = '&orientation=horizontal';\n    const SAFE_SEARCH = '&safesearch=true';\n    const url = BASE_URL + API_KEY + SEARCHING_THEME + IMAGE_TYPE + ORIENTATION + SAFE_SEARCH;\n   return fetch(url).then(Response=>Response.json());\n};\n\nfunction createImageCardMarkup(images) {\n  return images.map(({ webformatURL, largeImageURL, tags,likes, views, comments,downloads }) => {\n    return `\n    <li class=\"gallery-item\">\n        <a class=\"gallery-link\" href=\"${largeImageURL}\">\n          <img\n            class=\"gallery-image\"\n            src=\"${webformatURL}\"\n            alt=\"${tags}\"\n          />\n          </a>\n        <ul class=\"image-activity\">\n          <li class=\"image-activity-item\">\n            <h4 class=\"image-activity-type\">Likes</h4>\n            <p>${likes}</p>\n          </li>\n          <li class=\"image-activity-item\">\n            <h4 class=\"image-activity-type\">Views</h4>\n            <p>${views}</p>\n          </li>\n          <li class=\"image-activity-item\">\n            <h4 class=\"image-activity-type\">Comments</h4>\n            <p>${comments}</p>\n            <li class=\"image-activity-item\">\n            <h4 class=\"image-activity-type\">Downloads</h4>\n            <p>${downloads}</p>\n          </li>\n          </li>\n        </ul>\n      </li>`\n  }).join('');\n};\nfunction renderImageGallery(images) {\n    const markup = createImageCardMarkup(images);\n    ref.formForImagesGallery.innerHTML = markup;\n    lightbox.refresh();\n}\nref.formForInputSearchingParametersForImages.addEventListener('submit', onFormSubmit);\nfunction onFormSubmit(event) {\n    event.preventDefault();\n    deleteImageGalleryMarkup();\n    let searchingTheme = event.target.elements.query.value;\n    console.log(searchingTheme);\n    getImageGallery(searchingTheme).then(data=>{renderImageGallery(data.hits)})\n    ref.formForInputSearchingParametersForImages.reset()\n   \n\n};\n\n\nlet lightbox = new SimpleLightbox('.gallery a',\n    {\n    captionsData: 'alt', captionDelay: 250,\n    }\n);"],"names":["ref","deleteImageGalleryMarkup","getImageGallery","whatAreWeSearching","BASE_URL","API_KEY","SEARCHING_THEME","IMAGE_TYPE","ORIENTATION","SAFE_SEARCH","url","Response","createImageCardMarkup","images","webformatURL","largeImageURL","tags","likes","views","comments","downloads","renderImageGallery","markup","lightbox","onFormSubmit","event","searchingTheme","data","SimpleLightbox"],"mappings":"oGAIA,MAAMA,EAAM,CACR,yCAA0C,SAAS,cAAc,aAAa,EAC9E,uBAAwB,SAAS,cAAc,mBAAmB,EAClE,qBAAsB,SAAS,cAAc,UAAU,CAC3D,EACA,SAASC,GAA2B,CAChCD,EAAI,qBAAqB,UAAY,EACzC,CACA,SAASE,EAAgBC,EAAoB,CACzC,MAAMC,EAAW,2BACXC,EAAU,0CACVC,EAAkB,MAAMH,CAAkB,GAC1CI,EAAa,oBACbC,EAAc,0BACdC,EAAc,mBACdC,EAAMN,EAAWC,EAAUC,EAAkBC,EAAaC,EAAcC,EAC/E,OAAO,MAAMC,CAAG,EAAE,KAAKC,GAAUA,EAAS,KAAI,CAAE,CACnD,CAEA,SAASC,EAAsBC,EAAQ,CACrC,OAAOA,EAAO,IAAI,CAAC,CAAE,aAAAC,EAAc,cAAAC,EAAe,KAAAC,EAAK,MAAAC,EAAO,MAAAC,EAAO,SAAAC,EAAS,UAAAC,CAAS,IAC9E;AAAA;AAAA,wCAE6BL,CAAa;AAAA;AAAA;AAAA,mBAGlCD,CAAY;AAAA,mBACZE,CAAI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBAMNC,CAAK;AAAA;AAAA;AAAA;AAAA,iBAILC,CAAK;AAAA;AAAA;AAAA;AAAA,iBAILC,CAAQ;AAAA;AAAA;AAAA,iBAGRC,CAAS;AAAA;AAAA;AAAA;AAAA,YAKvB,EAAE,KAAK,EAAE,CACZ,CACA,SAASC,EAAmBR,EAAQ,CAChC,MAAMS,EAASV,EAAsBC,CAAM,EAC3Cb,EAAI,qBAAqB,UAAYsB,EACrCC,EAAS,QAAO,CACpB,CACAvB,EAAI,yCAAyC,iBAAiB,SAAUwB,CAAY,EACpF,SAASA,EAAaC,EAAO,CACzBA,EAAM,eAAc,EACpBxB,IACA,IAAIyB,EAAiBD,EAAM,OAAO,SAAS,MAAM,MACjD,QAAQ,IAAIC,CAAc,EAC1BxB,EAAgBwB,CAAc,EAAE,KAAKC,GAAM,CAACN,EAAmBM,EAAK,IAAI,CAAC,CAAC,EAC1E3B,EAAI,yCAAyC,MAAO,CAGxD,CAGA,IAAIuB,EAAW,IAAIK,EAAe,aAC9B,CACA,aAAc,MAAO,aAAc,GAClC,CACL"}